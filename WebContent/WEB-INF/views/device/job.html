<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>展为智能</title>
<meta name="viewport"
	content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<link rel="shortcut icon" href="/themes/img/favicon.ico" type="image/x-icon" />  
<link rel="stylesheet" href="/themes/dist/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
<link rel="stylesheet" href="/themes/awe/dist/css/AdminLTE.min.css">
<link rel="stylesheet"
	href="/themes/awe/dist/css/skins/_all-skins.min.css">
<link rel="stylesheet" href="/themes/css/home/main.css?_v=1.04">
<!--[if lt IE 9]>
    	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<body class="hold-transition skin-blue fixed sidebar-mini">
	<!-- Site wrapper -->
	<div class="wrapper">
		<#include "_nav.html">
		<!-- 路径导航 -->
		<div class="content-wrapper" style="background-color: white;">
			<section class="content-header" style="height: 50px;">
				<h1></h1>
				<ol class="breadcrumb">
					<li><a href="#"><i class="fa fa-dashboard"></i> Job 管理 </a></li>
				</ol>
			</section>
			<!-- 主内容 -->
			<section class="content" id="datas">
				<div class="row">
					<div class="col-xs-12">
						<div class="box">
							<div class="box-header">
								<h3 class="box-title">Job 列表</h3>
								<div class="box-tools">
					                <ul class="pagination pagination-sm no-margin pull-right">
					                  <li><a onclick="_showNew();">自定义Job</a></li>
					                </ul>
					              </div>
							</div>
							<!-- /.box-header -->
							<div class="box-body table-responsive no-padding">
								<table class="table table-hover table-bordered">
									<thead>
										<tr>
											<th>Mac</th>
											<th>命令名称</th>
											<th>命令内容</th>
											<th>回复结果</th>
											<th>创建时间</th>
											<th>状态</th>
											<th>操作</th>
										</tr>
									</thead>
									<tbody>
										<tr v-for="item in datas.list">
											<td v-text="item.target"></td>
											<td v-text="item.cmdContent"></td>
											<td v-text="item.cmd"></td>
											<td v-text="item.jobResult"></td>
											<td v-text="item.createTime"></td>
											<td>
												<button v-if="0===item.status"
													class='btn btn-default btn-xs'>新建</button>
												<button v-if="1===item.status"
													class='btn btn-default btn-xs'>已接收</button>
												<button v-if="2===item.status"
													class='btn btn-default btn-xs'>已完成</button>
												<button v-if="3===item.status"
													class='btn btn-default btn-xs'>已失败</button>
											</td>
											<td>
												<button v-if="1===item.status||0===item.status"
												 v-bind:id="item.id"  onclick="_delete(this)"	class='btn btn-danger btn-xs'>放弃</button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="box-footer clearfix"
								style="width: 320px; float: right;">
								<div class="input-group">
									<span class="input-group-addon" onclick="_getData(0,1);">«</span>
									<span class="input-group-addon" onclick="_getData(1,0);">‹</span>
									<input type="text" style="text-align: center;"
										onfocus="_getNowPage(this)" onblur="_getAllPage(this)"
										v-bind:value="'当前第'+datas.page.currentPage+'页，共'+datas.page.pages+'页'"
										class="form-control"> <span class="input-group-addon"
										onclick="_getData(1,1);">›</span> <span
										class="input-group-addon" id="_end">»</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
		<div class="box box-primary fly-box-m none" id="newBox" >
            <div class="box-header with-border">
              <h3 class="box-title">自定义Jobo</h3>
              <div class="box-tools pull-right">
	            <button type="button" class="btn btn-box-tool" onclick="_hideNew();"><i class="fa fa-remove"></i></button>
	          </div>
            </div>
            <!-- /.box-header -->
            <!-- form start -->
            <form role="form" style="width: 90%;margin-left: 5%;" >
              <div class="box-body">
                <div class="form-group">
                  <label for="">target</label>
                  <select id="target" class="form-control"  >
                  	 <option v-for="item in routers" v-bind:value="item.mac" v-text="item.note"  ></option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="">cmd</label>
                  <input type="text" class="form-control" id="cmd"  >
                </div>
                <div class="form-group">
                  <label for="">详情：</label>
                  <textarea rows="" id="jobDetail"  class="form-control" cols=""></textarea>
                </div>
              </div>
              <div class="box-footer">
                <button type="button" onclick="_save();" class="btn btn-primary">提交</button>
              </div>
            </form>
          </div>
		<#include "_footer.html">
	</div>
	<script src="/themes/js/home/device/job.js?version=1.28"></script>

</body>
</html>