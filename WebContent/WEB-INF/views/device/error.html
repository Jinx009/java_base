<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>展为智能</title>
<meta name="viewport"
	content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<link rel="shortcut icon" href="/themes/img/favicon.ico" type="image/x-icon" />  
<link rel="stylesheet" href="/themes/dist/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
<link rel="stylesheet" href="/themes/awe/dist/css/AdminLTE.min.css">
<link rel="stylesheet"
	href="/themes/awe/dist/css/skins/_all-skins.min.css">
<link rel="stylesheet" href="/themes/css/home/main.css?_v=1">
<!--[if lt IE 9]>
    	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<body class="hold-transition skin-blue fixed sidebar-mini">
	<!-- Site wrapper -->
	<div class="wrapper">
		<#include "_nav.html">
		<!-- 路径导航 -->
		<div class="content-wrapper" style="background-color: white;">
			<section class="content-header" style="height: 50px;">
				<h1></h1>
				<ol class="breadcrumb">
					<li><a href="#"><i class="fa fa-dashboard"></i> Error管理 </a></li>
				</ol>
			</section>
			<!-- 主内容 -->
			<section class="content" id="datas">
				<div class="box box-default">
					<div class="box-header with-border">
						<h3 class="box-title">筛选条件</h3>
						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool"
								data-widget="collapse">
								<i class="fa fa-minus"></i>
							</button>
						</div>
					</div>
					<div class="box-body">
						<div class="row">
							<div class="col-md-3">
								<div class="form-group">
									<label>Mac</label> <input type="text" class="form-control" id="mac" value=""
										placeholder="请输入查询关键词">
								</div>
							</div>
							<div class="col-md-3">
								<div class="form-group">
									<label>Location</label> <select id="location"
										class="form-control select2 select2-hidden-accessible" onchange="_getArea();"
										style="width: 100%;" tabindex="-1" aria-hidden="true">
										<option v-for="item in locations" v-bind:value="item.id" v-text="item.name" ></option>
									</select>
								</div>
							</div>
							<div class="col-md-3">
								<div class="form-group">
									<label>Area</label> <select id="area"
										class="form-control select2 select2-hidden-accessible"
										style="width: 100%;" tabindex="-1" aria-hidden="true">
										<option v-for="item in areas" v-bind:value="item.id" v-text="item.name" ></option>
									</select>
								</div>
							</div>
							<div class="col-md-3">
								<div class="form-group">
									<label>操作</label> <input type="button"
										class="btn btn-default btn-xs form-control" onclick="_getData(0,1);" value="查询">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<div class="box">
							<div class="box-header">
								<h3 class="box-title">Error列表</h3>
							</div>
							<!-- /.box-header -->
							<div class="box-body table-responsive no-padding">
								<table class="table table-hover table-bordered">
									<thead>
										<tr>
											<th>编号</th>
											<th>parentMac</th>
											<th>mac</th>
											<th>错误信息</th>
											<th>解决方案</th>
											<th>设备类型</th>
											<th>上报时间</th>
											<th>状态</th>
											<th>操作</th>
										</tr>
									</thead>
									<tbody>
										<tr v-for="item in datas.list">
											<td v-text="item.deviceErrorFlow.id"></td>
											<td v-text="item.deviceErrorFlow.parentMac"></td>
											<td v-text="item.deviceErrorFlow.mac"></td>
											<td v-text="item.errorName"></td>
											<td v-text="item.solution"></td>
											<td v-text="item.typeName"></td>
											<td v-text="item.deviceErrorFlow.logTime"></td>
											<td>
												<button v-if="0===item.deviceErrorFlow.status"
													class='btn btn-default btn-xs' v-text="'未处理'" ></button>
												<button v-if="1===item.deviceErrorFlow.status"
													class='btn btn-default btn-xs' v-text="'已处理'" ></button>
											</td>
											<td>
												<button v-bind:id="item.deviceErrorFlow.id" v-if="0===item.deviceErrorFlow.status"  onclick="_delete(this)"
													class='btn btn-danger btn-xs' v-text="'处理完毕'" ></button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="box-footer clearfix"
								style="width: 320px; float: right;">
								<div class="input-group">
									<span class="input-group-addon" onclick="_getData(0,1);">«</span>
									<span class="input-group-addon" onclick="_getData(1,0);">‹</span>
									<input type="text" style="text-align: center;"
										onfocus="_getNowPage(this)" onblur="_getAllPage(this)"
										v-bind:value="'当前第'+datas.page.currentPage+'页，共'+datas.page.pages+'页'"
										class="form-control"> <span class="input-group-addon"
										onclick="_getData(1,1);">›</span> <span
										class="input-group-addon" id="_end">»</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
		<#include "_footer.html">
	</div>
	<script src="/themes/js/home/device/error.js?version=1.34"></script>

</body>
</html>