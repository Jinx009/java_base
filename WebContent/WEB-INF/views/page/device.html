    <#include "gnss_header.html">
    <div class="page-content-wrapper">
        <div class="page-content">
            <div class="page-bar">
                <ul class="page-breadcrumb">
                    <li>
                        <i class="fa fa-home"></i>
                        <a href="index.html">监测站点</a>
                        <i class="fa fa-angle-right"></i>
                    </li>
                </ul>
            </div>
            <div class="row" style="margin-top: 15px;">
                <div class="col-md-12 col-sm-12">
                    <div class="portlet light bordered">
                        <div class="portlet-title">
                            <div class="caption">
                                <i class="icon-share font-blue-steel"></i>
                                <span class="caption-subject font-blue-steel ">设备管理</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <div class="slimScrollDiv"
                                 style="position: relative; overflow: hidden; width: auto; height: 600px;" id="data">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover">
                                    <thead>
                                    <tr>
                                        <th scope="col">Mac</th>
                                        <th scope="col">经度（度）</th>
                                        <th scope="col">纬度（度）</th>
                                         <th scope="col">大地高（米）</th>
                                        <th scope="col">数据类型</th>
                                        <th scope="col">解算开关</th>
                                        <th scope="col">基准站</th>
                                  <!--       <th scope="col">创建时间</th> -->
                                        <th scope="col">操作</th>
                                    </tr>
                                    </thead>
                                    <tbody >
											<tr v-for="item in datas.list" >
												<td v-text="item.mac" ></td>
												<td v-text="item.lng" ></td>
												<td v-text="item.lat" ></td>
												<td v-text="item.height" ></td>
												<td v-text="item.dataType" ></td>
												<td>
													<font v-if="1===item.switchType" style="color: red;" v-text="'开'"></font>
													<font v-if="0===item.switchType" v-text="'关'"></font>
												</td>
												<td v-text="item.basetag" ></td>
											<!-- 	<td v-text="item.createTime" ></td> -->
												<td>
													<a class="edit" v-bind:href="'/home/cmd_add?mac='+item.mac+'&c=6'">控制 </a>
													<a v-if="item.imei!=null" v-text="'电量'" v-bind:href="'/home/battery?imei='+item.imei+'&c=4'" ></a>
												</td>
											</tr>
								 	</tbody>
                                </table>
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-sm-12"></div>
                                <div class="col-md-3 col-sm-12">
                                    <div class="dataTables_paginate paging_simple_numbers"
                                         id="sample_editable_1_paginate">
                                        <ul class="pagination">
                                            <li class="paginate_button previous "
                                                aria-controls="sample_editable_1" tabindex="0"
                                                id="sample_editable_1_previous">
                                                <a href="#" onclick="_sub()">
                                                    <i class="fa fa-angle-left" ></i>
                                                </a>
                                            </li>
                                            <li class="paginate_button active" aria-controls="sample_editable_1"
                                                tabindex="0">
                                                <a href="#" v-text="'当前第'+datas.page.currentPage+'页;共'+datas.page.pages+'页'" ></a>
                                            </li>
                                            <li class="paginate_button next "
                                                aria-controls="sample_editable_1" tabindex="0"
                                                id="sample_editable_1_next">
                                                <a href="#" onclick="_add()">
                                                    <i class="fa fa-angle-right" ></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
  <#include "gnss_footer.html">
  <script>
$(function(){
	_setClass();
	_getData();
})
var _d = '';
var p = 1;
var max = 1;
function _getData(){
	$.ajax({
		url:'/d/gnssrtkdevice/page?p='+p,
		type:'get',
		dataType:'json',
		success:function(res){
			max = res.data.page.pages;
			for(var i in res.data.list){
				res.data.list[i].createTime = toDateTime(parseInt(res.data.list[i].createTime));
				if(res.data.list[i].lng!=''&&res.data.list[i].lng!=null){
					res.data.list[i].lng = parseFloat(res.data.list[i].lng).toFixed(9);
					res.data.list[i].lat = parseFloat(res.data.list[i].lat).toFixed(9);
					if(res.data.list[i].height!=''&&res.data.list[i].height!=null){
						res.data.list[i].height = parseFloat(res.data.list[i].height).toFixed(4);
					}
				}
				if(res.data.list[i].east!=''&&res.data.list[i].east!=null){
					res.data.list[i].east = parseFloat(res.data.list[i].east).toFixed(4);
					res.data.list[i].up = parseFloat(res.data.list[i].up).toFixed(4);
					res.data.list[i].north = parseFloat(res.data.list[i].north).toFixed(4);
				}
			}
			if(_d==''){
				_d = new Vue({
					el : '#data',
					data : {
						datas : res.data
					}
				})
			}else{
				_d.datas = res.data;
			}
		}
	})
}
function _add(){
	if(max==p){
		layer.alert('当前已是最后一页！');
	}else{
		p++;
		_getData();
	}
}
function _sub(){
	if(p==1){
		layer.alert('已经是起始页！');
	}else{
		p--;
		_getData();
	}
}
</script>
  </body>
</html>