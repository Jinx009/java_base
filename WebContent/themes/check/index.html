<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>报警记录</title>
<link
	href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
	rel="stylesheet">
</head>
<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
					aria-expanded="false">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" target="_blank"
					href="http://www.zhanway.com"><img height="50px;"
					style="margin-top: -15px;" src="img/logo.png"></a>
			</div>
			<div class="collapse navbar-collapse"
				id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li class="active"><a href="">报警管理</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a target="_blank" href="http://www.zhanway.com">走进展为</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="row" style="width: 98%; margin-left: 1%;">
		<div class="col-md-12" id="data">
			<div class="panel panel-default" style="border-color: white;">
				<div class="panel-heading">报警记录</div>
				<div class="panel-body">
					<div style="margin-bottom: 10px; width: 100%;">
						<table class="table table-bordered">
							<tr>
								<th>id</th>
								<th>name</th>
								<th>time</th>
							</tr>
							<tbody id="datas">
								<tr  v-for="item in datas">
									<td v-text="item.id"></td>
									<td v-text="item.name"></td>
									<td v-text="item.createTime"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 	<footer class="main-footer"
		style="text-align: center; width: 100%; position: absolute; bottom: 15px;">
		<strong>Copyright &copy; <a href="http://www.zhanway.com"
			target="_blank">上海展为智能技术股份有限公司</a>.
		</strong> All rights reserved.
	</footer> -->
	<div class="control-sidebar-bg"></div>
</body>
<script src="https://cdn.bootcss.com/jquery/1.12.0/jquery.min.js"></script>
<script
	src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.4.4/vue.min.js"></script>
<script src="/themes/layer/layer.js"></script>
<script src="/themes/laydate/laydate.js"></script>
<script src="js/base.js"></script>
<script type="text/javascript">
	$(function() {
		_getData();
	})
	function _getData() {
		$.ajax({
			url : '/home/cloud/server/list',
			dataType : 'json',
			type : 'post',
			success : function(res) {
				for(var i in res.data){
					res.data[i].createTime = jsDateTime(res.data[i].createTime);
				}
				new Vue({
					el:'#datas',
					data:{datas:res.data}
				})
			}
		})
	}
	function jsDateTime(unixtime) {
		var date = new Date(unixtime);
		return date.Format("yyyy-MM-dd hh:mm:ss");
	}
	Date.prototype.Format = function(fmt) {
		var o = {
			"M+" : this.getMonth() + 1, // 月份
			"d+" : this.getDate(), // 日
			"h+" : this.getHours(), // 小时
			"m+" : this.getMinutes(), // 分
			"s+" : this.getSeconds(), // 秒
			"q+" : Math.floor((this.getMonth() + 3) / 3), // 季度
			"S" : this.getMilliseconds()
		// 毫秒
		};
		if (/(y+)/.test(fmt))
			fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "")
					.substr(4 - RegExp.$1.length));
		for ( var k in o)
			if (new RegExp("(" + k + ")").test(fmt))
				fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k])
						: (("00" + o[k]).substr(("" + o[k]).length)));
		return fmt;
	};
</script>

</html>